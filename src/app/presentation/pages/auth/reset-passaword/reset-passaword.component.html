<section class="bg-[rgb(200,251,248)] py-6 md:py-10 xl:py-16 min-h-screen flex flex-col items-center justify-center">
  <div class="container mx-auto flex flex-col justify-center items-center">
    <div class="flex flex-col md:flex-row items-center gap-6 md:gap-12 mt-6">
      <!-- Texte de description -->
      <div class="w-full md:w-1/2 xl:w-2/3 text-center md:text-left">
        <div class="mx-auto xl:max-w-lg">
          <hr class="border-white-200 mb-6">
          <h2 class="text-3xl font-bold text-gray-800 mb-4">Réinitialisation du mot de passe</h2>
          <p class="text-lg text-gray-600 mb-6">Entrez le code de réinitialisation que vous avez reçu par email, ainsi que votre nouveau mot de passe.</p>
          <div class="text-end">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-grip-horizontal" viewBox="0 0 16 16">
              <path d="M2 8a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
            </svg>
          </div>
        </div>
      </div>
      <div class="w-full md:w-2/3 xl:w-1/3 bg-white shadow-lg rounded-3xl p-6 md:p-8 xl:p-10 flex flex-col justify-between"
           style="max-height: 600px; min-height: 500px;">
        <h3 class="text-xl font-semibold text-gray-800 mb-4">Réinitialiser le mot de passe</h3>
        <p class="text-gray-600 mb-4">Veuillez entrer le code de réinitialisation, votre nouveau mot de passe et le confirmer.</p>

        <form [formGroup]="formResetPassword" (ngSubmit)="handleResetPassword()">
          <div class="mb-4">
<!--            <label for="resetCode" class="block text-gray-700">Code de réinitialisation</label>-->
            <input type="text" id="resetCode" formControlName="resetCode" placeholder="Code de réinitialisation" required
                   class="mt-2 w-full px-4 py-2 border rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary">
            <div *ngIf="formResetPassword.get('resetCode')?.invalid && (formResetPassword.get('resetCode')?.dirty || formResetPassword.get('resetCode')?.touched)" class="text-red-500 text-sm">
              <div *ngIf="formResetPassword.get('resetCode')?.errors?.['required']">Le code de réinitialisation est requis.</div>
              <div *ngIf="formResetPassword.get('resetCode')?.errors?.['pattern']">Le code de réinitialisation doit être composé de 6 chiffres.</div>
            </div>
          </div>

          <div class="mb-4">
<!--            <label for="newPassword" class="block text-gray-700">Nouveau mot de passe</label>-->
            <input type="password" id="newPassword" formControlName="newPassword" placeholder="Nouveau mot de passe" required
                   class="mt-2 w-full px-4 py-2 border rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary">
          </div>

          <div class="mb-4">
<!--            <label for="confirmPassword" class="block text-gray-700">Confirmer le mot de passe</label>-->
            <input type="password" id="confirmPassword" formControlName="confirmPassword" placeholder="Confirmer le mot de passe" required
                   class="mt-2 w-full px-4 py-2 border rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary">
          </div>
          <button type="submit" [disabled]="loading" class="w-full py-3 text-lg font-semibold text-white bg-[#009688] hover:bg-[#00796b] rounded-2xl transition-colors duration-300 mt-2">
            <span *ngIf="loading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            {{ loading ? 'Envoi en cours...' : 'Réinitialiser' }}
          </button>
          <div *ngIf="errorMessage" class="text-red-500 text-center ">{{ errorMessage }}</div>

          <div class="text-center ">
            <a routerLink="/connexion" [routerLink]="['/login']" class="text-[#009688] hover:underline text-sm">Retour à la connexion</a>
          </div>


        </form>
      </div>
    </div>
  </div>
</section>
